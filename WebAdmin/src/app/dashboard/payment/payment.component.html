<div class="animated fadeIn">
    <div class="card-block animated fadeIn rx-relative" style="margin-left:10%; margin-right: 10%; z-index: 1; padding: 0px;">
        <div class="card">
            <!-- Form -->
            <div class="rx-floathide-form rx-isview" [hidden]="isHidden">
                <div class="card rx-card-form">
                    <div class="card-header">
                        <h4 class="card-title">New In-app Item</h4>
                        <p class="text-muted">Modified in-app items for your app <a href=""> Learn more </a> </p>
                    </div>
                    <div class="card-block card-block-form">
                        <form action="" class="form-horizontal col-md-10 col-sx-12 row" method="post">
                            <div class="form-group col-md-6 rx-form-group">
                                <label class="form-control-label">Item Id</label>
                                <input class="form-control" name="id" placeholder="Item Id ..." type="text" [disabled]="isEdit" [(ngModel)]="onerow.id">
                            </div>
                            <div class="form-group col-md-6 rx-form-group">
                                <label class="form-control-label">Item Name</label>
                                <input class="form-control" name="name" placeholder="Item Name ..." type="text" [(ngModel)]="onerow.name">
                            </div>
                            <div class="form-group col-md-6 rx-form-group">
                                <label class="form-control-label">Description</label>
                                <input class="form-control" name="desc" placeholder="Description ..." type="text" [(ngModel)]="onerow.desc">
                            </div>
                            <div class="form-group col-md-6 rx-form-group">
                                <label class="form-control-label">Price (USD)</label>
                                <input class="form-control" name="Price" placeholder="Price ..." type="number" [(ngModel)]="onerow.price">
                            </div>
                            <div class="form-group col-md-6 rx-form-group">
                                <label class="form-control-label">Status</label>
                                <label class="switch switch-text switch-pill switch-primary">
                                    <input type="checkbox" class="switch-input" [checked]="onerow.is_active" (change)="onerow.is_active == 1 ? onerow.is_active = 0: onerow.is_active = 1">
                                    <span class="switch-label" data-on="On" data-off="Off"></span>
                                    <span class="switch-handle"></span>
                                </label>
                            </div>
                            <div class="form-group col-md-6 rx-form-group">
                                <input type="file" (change)="fileChange($event)" placeholder="Upload file" accept="*.*">
                                <img [src]="onerow.icon" onError="this.src='./assets/img/ico_app_default.png'" style="width: 196px;" />
                            </div>
                        </form>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-sm btn-primary" type="submit" (click)=(save()) [hidden]="isEdit">
                            <i class="icon-plus"></i> OK
                        </button>
                        <button class="btn btn-sm btn-primary" type="submit" (click)=(update()) [hidden]="!isEdit">
                            <i class="icon-check"></i> Update
                        </button>
                        <button class="btn btn-sm btn-danger" type="reset" (click)=(delete()) [hidden]="!isEdit" style="float: right;">
                            <i class="icon-trash"></i> Delete
                        </button>
                        <button class="btn btn-sm btn-secondary" type="reset" (click)=(cancel())>
                            <i class="icon-close"></i> Cancel
                        </button>
                    </div>
                </div>
            </div>
            <!-- End form -->
        </div>
    </div>
    <div class="card">
        <div class="card-block">
            <h4>In-app items
            <button class="btn btn-sm btn-primary" style="float: right;" (click)=(toggle())>
            <i class="icon-plus"></i> Create
            </button>
            </h4>
            <p class="text-muted">List of items</p>
            <table class="table table-hover table-outline mb-0 hidden-sm-down table-striped">
                <thead class="thead-default">
                    <tr>
                        <th class="text-center rx-table-ico-head">Id</th>
                        <th class="text-center rx-table-ico-head">Name</th>
                        <th class="text-center rx-table-ico-head">Description</th>
                        <th class="text-center rx-table-ico-head">Price (USD)</th>
                        <th class="text-center rx-table-ico-head">Image</th>
                        <th class="text-center rx-table-ico-head">Created</th>
                        <th class="text-center rx-table-ico-head">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of items" style="cursor: pointer;" (click)=(onRowClick(item))>
                        <td align="center">
                            {{item.id}}
                        </td>
                        <td align="center">
                            {{item.name}}
                        </td>
                        <td align="center">
                            {{item.desc}}
                        </td>
                        <td align="center">
                            {{item.price}}
                        </td>
                        <td align="center">
                            <img [src]="getUrl(item.icon)" onError="this.src='./assets/img/ico_app_default.png'" style="width: 96px;" />
                        </td>
                        <td align="center">
                            <div class="small">{{item.created_at * 1000 | date:'dd/MM/yyyy HH:mm:ss'}}</div>
                        </td>
                        <td align="center">
                            <span class="tag tag-success" *ngIf="item.is_active">Active</span>
                            <span class="tag tag-danger" *ngIf="!item.is_active">Inactive</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>